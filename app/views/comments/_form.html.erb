<div class="bg-white border p-3" id="<%= dom_id(post) %>_comment_form" data-controller="comment-form">
  <%= form_with model: [post, comment], local: false, data: { comment_form_target: "form" } do |f| %>
    <% if comment.errors.any? %>
      <div class="bg-red-100 border p-4 mb-4 error_messages">
        <h4 class="text-sm font-bold mb-2">Please fix the following errors:</h4>
        <ul class="text-sm">
          <% comment.errors.full_messages.each do |message| %>
            <li>- <%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <%= f.text_field :name, placeholder: "Your name", class: "w-full px-3 py-2 border text-sm mb-3" %>
    <%= f.text_area :body, rows: 2, placeholder: "Add a comment...", class: "w-full px-3 py-2 border text-sm mb-3" %>
    <div class="flex gap-2">
      <%= f.submit "Post Comment", class: "bg-blue-600 text-white py-2 px-4 text-sm" %>
      <button type="button" 
              data-action="click->comment-form#clear"
              class="bg-gray-500 text-white py-2 px-4 text-sm hover:bg-gray-600">
        Clear
      </button>
    </div>
  <% end %>
</div>